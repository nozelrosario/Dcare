angular.module('dataAdapter', ['pouchdbProvider'])
/**
* A Data Adapter service service that interacts with pouch DB provider / Http provider, etc for providing Data.
*/


.service('DataAdapter', function (pouchDBProvider, $q, $log) {
    this.dataStore = null;
    var PouchDBConfig = {
        // General config options for Pouch DB
        auto_compaction: true
    };


    this.instantiate = function (dataStoreName,adapter) {
      
    };
    
    this.getDataStore = function () {
       
    };

    /*
    * Saves Data object into DB
    * If data contains a id, existing is updated, else a new entry is created with autogenerated ID
    */
    this.save = function (data) {
        var deferredSave = $q.defer();

        return deferredSave.promise;
    };

    this.getDataByID = function (id) {
        var deferredFetch = $q.defer();

        return deferredFetch.promise;
    };

    this.getRowsCount = function () {
        var deferredCount = $q.defer();

        return deferredCount.promise;
    };

    /* Gets all rows from DB
    */
    this.getAllRows = function () {
        var deferredFetch = $q.defer();

        return deferredFetch.promise;
    };

    this.search = function () {

    };

})
    

/*
* Data Adapter Config 
*/
.config(function (pouchDBProvider, POUCHDB_METHODS) {

// check for available adapters and Configure Data Adapters
    
});